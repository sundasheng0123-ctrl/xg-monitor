!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).Monitor={})}(this,function(e){"use strict";const r={url:"",jsError:!0,resourceError:!0,promiseError:!0,httpError:!0,vueError:!1,monitorTiming:!0};function o(e){return e.split("\n").slice(1).map(e=>e.replace(/^\s+at\s+/g,"")).join("^")}function t(e){return e.reverse().filter(e=>e!==document&&e!==window&&e instanceof Element).map(e=>e.id?`${e.tagName.toLowerCase()}#${e.id}`:e.className&&"string"==typeof e.className?`${e.tagName.toLowerCase()}.${e.className}`:e.tagName.toLowerCase()).join(" ")}function i(e){return Array.isArray(e)?t(e):t([e])}const n={install(e){e.config.errorHandler=(e,r)=>{a.send({kind:"stability",type:"error",errorType:"vueError",message:e.message,tagName:r.htmlType??"",stack:o(e.stack),className:r.$el.className,id:r.$el.id})}}};class s{init(e){if(!e)throw new Error("config is required");this.config={...r,...e},this.initMonitor()}initMonitor(){const{url:e}=this.config;if(!e)throw new Error("report url is required");if(!function(e){try{return new URL(e),!0}catch{return!1}}(e))throw new Error("report url is invalid");var r;this.config.jsError?(r=this,window.addEventListener("error",e=>{const t=e.target;if(t&&(t.src||t.href))r.send({kind:"stability",type:"error",errorType:"resourceError",message:e.message,filename:t.src||t.href,tagName:t.tagName,selector:i(t)});else{let n={kind:"stability",type:"error",errorType:"jsError",message:e.message,filename:e.filename,position:`${e.lineno}:${e.colno}`,stack:o(e.error.stack),selector:i(t)};r.send(n)}})):this.config.monitorTiming}send(e){console.log(e)}constructor(){this.config=r}}const a=new s;e.Moniter=s,e.VueMonitorPlugin=n,e.moniter=a});
//# sourceMappingURL=bundle.min.js.map
