{"version":3,"file":"bundle.min.js","sources":["../src/utils/config.ts","../src/index.ts","../src/utils/tools.ts"],"sourcesContent":["\r\nexport interface ConfigType {\r\n  url: string,\r\n  jsError?: boolean\r\n  resourceError?: boolean,\r\n  promiseError?: boolean,\r\n  ajaxError?: boolean,\r\n  vueError?: boolean,\r\n  consoleError?: boolean,\r\n  scriptError?: boolean,\r\n  staticError?: boolean\r\n}\r\n\r\nexport const defaultConfig: ConfigType = {\r\n  url: '',\r\n  jsError: false,\r\n  resourceError: false,\r\n  promiseError: false,\r\n  ajaxError: false,\r\n  vueError: false,\r\n  consoleError: false,\r\n  scriptError: false,\r\n  staticError: false\r\n}\r\n","import { defaultConfig, type ConfigType  } from '@u/config'\r\nimport { isValidUrl } from '@u/tools'\r\nclass Moniter {\r\n  config: ConfigType = defaultConfig\r\n  constructor(parameters) {\r\n    \r\n  }\r\n  init(config: ConfigType) {\r\n    if (!config) throw new Error('config is required')\r\n    this.config = { ...defaultConfig, ...config }\r\n    this.initMonitor()\r\n  }\r\n  initMonitor() {\r\n    const { url } = this.config\r\n    if (!url) throw new Error('report url is required')\r\n    if (!isValidUrl(url)) throw new Error('report url is invalid')\r\n  }\r\n}\r\n\r\nexport default Moniter\r\n","/**\r\n * 检测 URL 是否合法\r\n * @param {string} url\r\n * @returns {boolean}\r\n */\r\nexport function isValidUrl(url: string) {\r\n  try {\r\n    new URL(url)\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n"],"names":["defaultConfig","url","jsError","resourceError","promiseError","ajaxError","vueError","consoleError","scriptError","staticError","init","config","Error","this","initMonitor","URL","isValidUrl","constructor","parameters"],"mappings":"uOAaO,MAAMA,EAA4B,CACvCC,IAAK,GACLC,SAAS,EACTC,eAAe,EACfC,cAAc,EACdC,WAAW,EACXC,UAAU,EACVC,cAAc,EACdC,aAAa,EACbC,aAAa,UCpBf,MAKEC,IAAAA,CAAKC,GACH,IAAKA,EAAQ,MAAM,IAAIC,MAAM,sBAC7BC,KAAKF,OAAS,IAAKX,KAAkBW,GACrCE,KAAKC,aACP,CACAA,WAAAA,GACE,MAAMb,IAAEA,GAAQY,KAAKF,OACrB,IAAKV,EAAK,MAAM,IAAIW,MAAM,0BAC1B,ICVG,SAAoBX,GACzB,IAEE,OADA,IAAIc,IAAId,IACD,CACT,CAAE,MACA,OAAO,CACT,CACF,CDGSe,CAAWf,GAAM,MAAM,IAAIW,MAAM,wBACxC,CAZA,WAAAK,CAAYC,QADZP,OAAqBX,CAGrB"}